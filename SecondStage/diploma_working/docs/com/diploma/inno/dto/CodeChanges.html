<!DOCTYPE HTML>
<html lang="ru">
<head>
<!-- Generated by javadoc (21) on Fri Jun 06 16:44:09 SAMT 2025 -->
<title>CodeChanges</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-06-06">
<meta name="description" content="declaration: package: com.diploma.inno.dto, class: CodeChanges">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CodeChanges.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.diploma.inno.dto</a></div>
<h1 title="Class CodeChanges" class="title">Class CodeChanges</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="TypedLog.html" title="class in com.diploma.inno.dto">com.diploma.inno.dto.TypedLog</a>
<div class="inheritance">com.diploma.inno.dto.CodeChanges</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="Log.html" title="interface in com.diploma.inno.dto">Log</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">CodeChanges</span>
<span class="extends-implements">extends <a href="TypedLog.html" title="class in com.diploma.inno.dto">TypedLog</a></span></div>
<div class="block">Data Transfer Object for Jenkins code changes &amp; version control information in CI/CD anomaly detection.

 <p>This DTO encapsulates comprehensive code change information including commit details, author information,
 affected files, and change metadata for Jenkins builds. It serves as a critical component for tracking
 code modifications, identifying potential security risks, and enabling AI-powered analysis of development
 patterns and anomalies in CI/CD pipelines.</p>

 <h2 id="core-functionality-heading">Core Functionality</h2>
 <ul>
   <li><strong>Change Tracking:</strong> Captures commit details, authors &amp; affected files</li>
   <li><strong>Compression Support:</strong> Handles GZIP-compressed change data for large repositories</li>
   <li><strong>Culprit Identification:</strong> Tracks responsible developers for build issues</li>
   <li><strong>Version Control Integration:</strong> Links changes to specific builds &amp; jobs</li>
   <li><strong>Security Analysis:</strong> Enables detection of suspicious code changes</li>
 </ul>

 <h2 id="data-structure-content-heading">Data Structure &amp; Content</h2>
 <p>The DTO manages complex change data structures with multiple information layers:</p>
 <ul>
   <li><strong>Commit Information:</strong> Commit IDs, messages, timestamps &amp; author details</li>
   <li><strong>File Changes:</strong> Lists of affected files with modification types</li>
   <li><strong>Author Tracking:</strong> Developer identification &amp; contact information</li>
   <li><strong>Build Context:</strong> Job correlation &amp; build number association</li>
   <li><strong>Compressed Data:</strong> Base64-encoded GZIP changes for large datasets</li>
 </ul>

 <h2 id="json-structure-serialization-heading">JSON Structure &amp; Serialization</h2>
 <p>The DTO supports comprehensive JSON serialization for data exchange:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "type": "code_changes",
  "job_name": "security-pipeline",
  "build_number": 123,
  "data": {
    "message": "Code changes for security enhancement",
    "changes_compressed": false,
    "changes": [
      {
        "commit_id": "a1b2c3d4e5f6",
        "author": "John Doe",
        "author_email": "john.doe@company.com",
        "timestamp": "2024-01-15T10:30:00Z",
        "message": "Fix security vulnerability in authentication module",
        "affected_files": [
          "src/main/java/auth/SecurityManager.java",
          "src/test/java/auth/SecurityManagerTest.java"
        ]
      }
    ],
    "culprits": ["john.doe@company.com"]
  },
  "error": null
}
</code></pre>
</div>


 <h2 id="compressed-change-handling-heading">Compressed Change Handling</h2>
 <p>For large repositories with extensive changes, the DTO supports GZIP compression:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "type": "code_changes",
  "job_name": "large-refactor-pipeline",
  "build_number": 456,
  "data": {
    "message": "Major refactoring with 500+ file changes",
    "changes_compressed": true,
    "changes": "H4sIAAAAAAAA/62QwQrCMBBE7+UrHnuxVqsHwYMf4MmTJ...",
    "original_size": 2048576,
    "compressed_size": 102400,
    "culprits": ["lead.developer@company.com", "architect@company.com"]
  }
}
</code></pre>
</div>


 <h2 id="error-handling-diagnostics-heading">Error Handling &amp; Diagnostics</h2>
 <p>When change processing errors occur, the DTO captures diagnostic information:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "type": "code_changes",
  "job_name": "failing-pipeline",
  "build_number": 789,
  "data": {
    "message": "Failed to retrieve change information",
    "changes": [],
    "culprits": []
  },
  "error": "Git repository access denied: insufficient permissions"
}
</code></pre>
</div>


 <h2 id="ai-analysis-integration-heading">AI Analysis Integration</h2>
 <p>The DTO provides structured content for AI-powered analysis:</p>
 <ul>
   <li><strong>Security Analysis:</strong> Detection of suspicious changes &amp; potential threats</li>
   <li><strong>Pattern Recognition:</strong> Identification of development patterns &amp; anomalies</li>
   <li><strong>Risk Assessment:</strong> Evaluation of change impact &amp; security implications</li>
   <li><strong>Compliance Monitoring:</strong> Verification of coding standards &amp; policies</li>
   <li><strong>Developer Behavior:</strong> Analysis of commit patterns &amp; code quality trends</li>
 </ul>

 <h2 id="change-analysis-capabilities-heading">Change Analysis Capabilities</h2>
 <p>The DTO enables comprehensive change analysis:</p>
 <ol>
   <li><strong>Commit Correlation:</strong> Links changes to specific builds &amp; deployments</li>
   <li><strong>Author Tracking:</strong> Identifies responsible developers for accountability</li>
   <li><strong>File Impact Analysis:</strong> Assesses scope &amp; risk of file modifications</li>
   <li><strong>Temporal Analysis:</strong> Tracks change frequency &amp; timing patterns</li>
 </ol>

 <h2 id="security-considerations-heading">Security Considerations</h2>
 <ul>
   <li><strong>Data Sanitization:</strong> Safe handling of potentially sensitive commit information</li>
   <li><strong>Access Control:</strong> Secure processing of repository access credentials</li>
   <li><strong>Privacy Protection:</strong> Careful handling of developer personal information</li>
   <li><strong>Compression Security:</strong> Secure decompression with size &amp; content validation</li>
 </ul>

 <h2 id="performance-optimization-heading">Performance Optimization</h2>
 <ul>
   <li><strong>Lazy Decompression:</strong> Decompresses change data only when needed for analysis</li>
   <li><strong>Memory Efficiency:</strong> Optimized handling of large change datasets</li>
   <li><strong>Streaming Processing:</strong> Efficient processing of continuous change streams</li>
   <li><strong>Caching Strategy:</strong> Intelligent caching of processed change information</li>
 </ul>

 <h2 id="integration-points-heading">Integration Points</h2>
 <p>This DTO integrates with multiple system components:</p>
 <ul>
   <li><strong>LogMessageListener:</strong> Receives &amp; processes code change messages</li>
   <li><strong>SimpleDbChatMemory:</strong> Stores change data for historical analysis</li>
   <li><strong>AI Analysis Engine:</strong> Provides change content for anomaly detection</li>
   <li><strong>Security Scanner:</strong> Supplies change data for vulnerability analysis</li>
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>1.0</dd>
<dt>Author:</dt>
<dd>Khasan Abdurakhmanov</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="TypedLog.html" title="class in com.diploma.inno.dto"><code>TypedLog</code></a></li>
<li><a href="../component/LogMessageListener.html" title="class in com.diploma.inno.component"><code>LogMessageListener</code></a></li>
<li><a href="../component/SimpleDbChatMemory.html" title="class in com.diploma.inno.component"><code>SimpleDbChatMemory</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">CodeChanges</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Default constructor initializing the DTO with proper type identification.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBuildNumber()" class="member-name-link">getBuildNumber</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the Jenkins build number for these code changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getContentToAnalyze()" class="member-name-link">getContentToAnalyze</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generates structured content for AI-powered anomaly detection analysis.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConversationId()" class="member-name-link">getConversationId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides the conversation identifier for chat memory correlation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getData()" class="member-name-link">getData</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the complex data structure containing code change information and metadata.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getError()" class="member-name-link">getError</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the error message or diagnostic information.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getJobName()" class="member-name-link">getJobName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the Jenkins job name associated with these code changes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setBuildNumber(int)" class="member-name-link">setBuildNumber</a><wbr>(int&nbsp;buildNumber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the Jenkins build number for these code changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setData(java.util.Map)" class="member-name-link">setData</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;data)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the code change data and metadata.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setError(java.lang.String)" class="member-name-link">setError</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;error)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the error message or diagnostic information.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setJobName(java.lang.String)" class="member-name-link">setJobName</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;jobName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the Jenkins job name for these code changes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toJson()" class="member-name-link">toJson</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts the code changes to JSON format for data exchange &amp; storage.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a string representation of this CodeChanges object.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.diploma.inno.dto.TypedLog">Methods inherited from class&nbsp;com.diploma.inno.dto.<a href="TypedLog.html" title="class in com.diploma.inno.dto">TypedLog</a></h3>
<code><a href="TypedLog.html#getTimestamp()">getTimestamp</a>, <a href="TypedLog.html#getType()">getType</a>, <a href="TypedLog.html#setTimestamp(java.lang.String)">setTimestamp</a>, <a href="TypedLog.html#setType(java.lang.String)">setType</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>CodeChanges</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">CodeChanges</span>()</div>
<div class="block">Default constructor initializing the DTO with proper type identification.

 <p>Creates a new CodeChanges instance with the type set to "code_changes"
 for proper message routing and processing in the Jenkins anomaly detection pipeline.</p>

 <h4 id="initialization-process--heading">Initialization Process:</h4>
 <ol>
   <li>Sets the log type to "code_changes" for message classification</li>
   <li>Logs initialization for debugging and audit purposes</li>
   <li>Prepares the instance for data population and serialization</li>
 </ol>

 <h4 id="usage-in-pipeline--heading">Usage in Pipeline:</h4>
 <p>This constructor is typically called during JSON deserialization when
 Jenkins code change messages are received via RabbitMQ:</p>

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// Automatic instantiation during JSON deserialization
CodeChanges changes = objectMapper.readValue(jsonMessage, CodeChanges.class);

// Manual instantiation for testing
CodeChanges changes = new CodeChanges();
changes.setJobName("security-pipeline");
changes.setBuildNumber(123);

Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();
data.put("message", "Security enhancement changes");
data.put("changes_compressed", false);
data.put("changes", Arrays.asList(commitData));
changes.setData(data);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="TypedLog.html#setType(java.lang.String)"><code>TypedLog.setType(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getJobName()">
<h3>getJobName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getJobName</span>()</div>
<div class="block">Gets the Jenkins job name associated with these code changes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the job name, or <code>null</code> if not set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setJobName(java.lang.String)">
<h3>setJobName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setJobName</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;jobName)</span></div>
<div class="block">Sets the Jenkins job name for these code changes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>jobName</code> - the job name to set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBuildNumber()">
<h3>getBuildNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getBuildNumber</span>()</div>
<div class="block">Gets the Jenkins build number for these code changes.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Log.html#getBuildNumber()">getBuildNumber</a></code>&nbsp;in interface&nbsp;<code><a href="Log.html" title="interface in com.diploma.inno.dto">Log</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="TypedLog.html#getBuildNumber()">getBuildNumber</a></code>&nbsp;in class&nbsp;<code><a href="TypedLog.html" title="class in com.diploma.inno.dto">TypedLog</a></code></dd>
<dt>Returns:</dt>
<dd>the build number</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><code>JenkinsClient</code></li>
<li><code>JenkinsApi</code></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setBuildNumber(int)">
<h3>setBuildNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setBuildNumber</span><wbr><span class="parameters">(int&nbsp;buildNumber)</span></div>
<div class="block">Sets the Jenkins build number for these code changes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>buildNumber</code> - the build number to set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getData()">
<h3>getData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">getData</span>()</div>
<div class="block">Gets the complex data structure containing code change information and metadata.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the data map containing change details and metadata, or <code>null</code> if not set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setData(java.util.Map)">
<h3>setData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setData</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;data)</span></div>
<div class="block">Sets the code change data and metadata.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - the data map to set, containing change information and metadata</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getError()">
<h3>getError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getError</span>()</div>
<div class="block">Gets the error message or diagnostic information.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the error message, or <code>null</code> if no error occurred</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setError(java.lang.String)">
<h3>setError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setError</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;error)</span></div>
<div class="block">Sets the error message or diagnostic information.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>error</code> - the error message to set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getContentToAnalyze()">
<h3>getContentToAnalyze</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getContentToAnalyze</span>()
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Generates structured content for AI-powered anomaly detection analysis.

 <p>This method processes the raw code change data and provides clean, analyzable content
 for AI systems. It handles both compressed and uncompressed change data, automatically
 decompressing GZIP content when necessary, and formats change information for optimal
 AI analysis and security assessment.</p>

 <h4 id="content-processing-strategy--heading">Content Processing Strategy:</h4>
 <p>The method employs a multi-stage approach for content extraction:</p>
 <ol>
   <li><strong>Error Prioritization:</strong> If error field is present, includes error details</li>
   <li><strong>Data Validation:</strong> Checks for presence of change data</li>
   <li><strong>Message Extraction:</strong> Includes overall change description</li>
   <li><strong>Compression Detection:</strong> Identifies GZIP-compressed change data</li>
   <li><strong>Change Processing:</strong> Formats individual commits for analysis</li>
   <li><strong>Culprit Identification:</strong> Lists responsible developers</li>
 </ol>

 <h4 id="error-content-format--heading">Error Content Format:</h4>
 <p>When change processing errors are present, the content includes diagnostic information:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-text">Error: Git repository access denied: insufficient permissions
Message: Failed to retrieve change information for security analysis
</code></pre>
</div>


 <h4 id="normal-content-format--heading">Normal Content Format:</h4>
 <p>For successful change retrieval, provides comprehensive change details:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-text">Message: Security enhancement changes for authentication module
Changes:
- Commit: a1b2c3d4e5f6, Author: John Doe, Email: john.doe@company.com, Timestamp: 2024-01-15T10:30:00Z, Message: Fix authentication vulnerability, Files: [src/main/java/auth/SecurityManager.java, src/test/java/auth/SecurityManagerTest.java]
- Commit: b2c3d4e5f6a1, Author: Jane Smith, Email: jane.smith@company.com, Timestamp: 2024-01-15T11:15:00Z, Message: Add security tests, Files: [src/test/java/auth/SecurityIntegrationTest.java]
Culprits: john.doe@company.com, jane.smith@company.com
</code></pre>
</div>


 <h4 id="compressed-content-handling--heading">Compressed Content Handling:</h4>
 <p>For GZIP-compressed changes, the method automatically decompresses:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-text">Message: Large refactoring with 500+ file changes
Changes:
[Decompressed from GZIP - 500+ commits with detailed information]
- Commit: c3d4e5f6a1b2, Author: Lead Developer, Email: lead.dev@company.com, ...
Culprits: lead.dev@company.com, architect@company.com
</code></pre>
</div>


 <h4 id="ai-analysis-applications--heading">AI Analysis Applications:</h4>
 <ul>
   <li><strong>Security Analysis:</strong> Detection of suspicious changes &amp; potential threats</li>
   <li><strong>Pattern Recognition:</strong> Identification of development patterns &amp; anomalies</li>
   <li><strong>Risk Assessment:</strong> Evaluation of change impact &amp; security implications</li>
   <li><strong>Compliance Monitoring:</strong> Verification of coding standards &amp; policies</li>
   <li><strong>Developer Behavior:</strong> Analysis of commit patterns &amp; code quality trends</li>
 </ul>

 <h4 id="performance-considerations--heading">Performance Considerations:</h4>
 <ul>
   <li><strong>Lazy Decompression:</strong> Decompresses only when content is requested</li>
   <li><strong>Memory Efficiency:</strong> Streams large change datasets to prevent memory issues</li>
   <li><strong>Error Resilience:</strong> Graceful handling of corrupted or malformed data</li>
   <li><strong>Content Caching:</strong> Caches decompressed content for repeated access</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Log.html#getContentToAnalyze()">getContentToAnalyze</a></code>&nbsp;in interface&nbsp;<code><a href="Log.html" title="interface in com.diploma.inno.dto">Log</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="TypedLog.html#getContentToAnalyze()">getContentToAnalyze</a></code>&nbsp;in class&nbsp;<code><a href="TypedLog.html" title="class in com.diploma.inno.dto">TypedLog</a></code></dd>
<dt>Returns:</dt>
<dd>formatted string containing code change information optimized for AI analysis.
         Returns error information when present, followed by change details and culprit information.
         For compressed changes, automatically decompresses and returns readable content.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - if decompression fails, JSON parsing fails, or change data is corrupted</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="TypedLog.html#getContentToAnalyze()"><code>TypedLog.getContentToAnalyze()</code></a></li>
<li><code>decodeGzipMessage(String)</code></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConversationId()">
<h3>getConversationId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getConversationId</span>()</div>
<div class="block">Provides the conversation identifier for chat memory correlation.

 <p>Returns the Jenkins job name as the conversation identifier, enabling
 proper correlation of code changes with specific Jenkins jobs in the
 AI analysis pipeline. This ensures that code changes are grouped with
 related build logs and analysis results.</p>

 <h4 id="conversation-grouping-strategy--heading">Conversation Grouping Strategy:</h4>
 <p>Using job name as conversation ID enables:</p>
 <ul>
   <li><strong>Change Correlation:</strong> Links code changes to specific Jenkins jobs</li>
   <li><strong>Historical Analysis:</strong> Tracks development patterns &amp; trends over time</li>
   <li><strong>Context Preservation:</strong> Maintains conversation continuity for AI analysis</li>
   <li><strong>Memory Management:</strong> Enables efficient conversation-based cleanup</li>
 </ul>

 <h4 id="integration-with-chat-memory--heading">Integration with Chat Memory:</h4>
 <p>The conversation ID is used by <a href="../component/SimpleDbChatMemory.html" title="class in com.diploma.inno.component"><code>SimpleDbChatMemory</code></a> for:</p>
 <ul>
   <li>Message storage and retrieval</li>
   <li>Conversation history management</li>
   <li>AI context preparation</li>
   <li>Change sequence tracking</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Log.html#getConversationId()">getConversationId</a></code>&nbsp;in interface&nbsp;<code><a href="Log.html" title="interface in com.diploma.inno.dto">Log</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="TypedLog.html#getConversationId()">getConversationId</a></code>&nbsp;in class&nbsp;<code><a href="TypedLog.html" title="class in com.diploma.inno.dto">TypedLog</a></code></dd>
<dt>Returns:</dt>
<dd>the Jenkins job name serving as the conversation identifier,
         or <code>null</code> if no job name is set</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="TypedLog.html#getConversationId()"><code>TypedLog.getConversationId()</code></a></li>
<li><a href="../component/SimpleDbChatMemory.html#add(java.lang.String,java.util.List)"><code>SimpleDbChatMemory.add(String, java.util.List)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a string representation of this CodeChanges object.

 <p>Provides a human-readable representation of the code changes including
 job name, build number, data summary, and error information for debugging
 and logging purposes.</p></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>string representation of the CodeChanges object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toJson()">
<h3>toJson</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toJson</span>()</div>
<div class="block">Converts the code changes to JSON format for data exchange &amp; storage.

 <p>This method provides robust JSON serialization of the complete code change information
 including change details, compression metadata, error information, and build context. It uses
 Jackson's ObjectMapper for comprehensive serialization with proper error handling.</p>

 <h4 id="serialization-features--heading">Serialization Features:</h4>
 <ul>
   <li><strong>Complete Data:</strong> Serializes all code change data &amp; metadata</li>
   <li><strong>Null Handling:</strong> Excludes null values for cleaner JSON output</li>
   <li><strong>Error Recovery:</strong> Returns empty JSON object on serialization failure</li>
   <li><strong>Logging:</strong> Comprehensive error logging for debugging</li>
 </ul>

 <h4 id="output-format--heading">Output Format:</h4>
 <p>The JSON output includes all relevant code change information:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "type": "code_changes",
  "job_name": "security-pipeline",
  "build_number": 123,
  "data": {
    "message": "Security enhancement changes",
    "changes_compressed": false,
    "changes": [
      {
        "commit_id": "a1b2c3d4e5f6",
        "author": "John Doe",
        "author_email": "john.doe@company.com",
        "timestamp": "2024-01-15T10:30:00Z",
        "message": "Fix authentication vulnerability",
        "affected_files": [
          "src/main/java/auth/SecurityManager.java",
          "src/test/java/auth/SecurityManagerTest.java"
        ]
      }
    ],
    "culprits": ["john.doe@company.com"]
  },
  "error": null
}
</code></pre>
</div>


 <h4 id="compressed-changes-output--heading">Compressed Changes Output:</h4>
 <p>For compressed changes, the JSON includes compression metadata:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "type": "code_changes",
  "job_name": "large-refactor-pipeline",
  "build_number": 456,
  "data": {
    "message": "Large refactoring with 500+ files",
    "changes_compressed": true,
    "changes": "H4sIAAAAAAAA/62QwQrCMBBE7+UrHnuxVqsHwYMf4MmTJ...",
    "original_size": 2048576,
    "compressed_size": 102400,
    "culprits": ["lead.dev@company.com", "architect@company.com"]
  }
}
</code></pre>
</div>


 <h4 id="error-handling--heading">Error Handling:</h4>
 <p>The method includes comprehensive error handling:</p>
 <ul>
   <li><strong>Exception Catching:</strong> Catches all JSON processing exceptions</li>
   <li><strong>Fallback Response:</strong> Returns "{}" on serialization failure</li>
   <li><strong>Error Logging:</strong> Logs detailed error information for debugging</li>
   <li><strong>Graceful Degradation:</strong> Ensures system continues operation</li>
 </ul>

 <h4 id="usage-scenarios--heading">Usage Scenarios:</h4>
 <ul>
   <li><strong>Message Queue:</strong> Serialization for RabbitMQ transmission</li>
   <li><strong>Database Storage:</strong> JSON storage in chat memory</li>
   <li><strong>API Responses:</strong> REST API data exchange</li>
   <li><strong>Logging:</strong> Structured logging of change information</li>
 </ul></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>JSON string representation of the code changes,
         or "{}" if serialization fails</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="Log.html#toJson()"><code>Log.toJson()</code></a></li>
<li><code>ObjectMapper.writeValueAsString(Object)</code></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
