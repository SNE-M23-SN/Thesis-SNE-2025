<!DOCTYPE HTML>
<html lang="ru">
<head>
<!-- Generated by javadoc (21) on Fri Jun 06 16:44:09 SAMT 2025 -->
<title>JsonMapConverter</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-06-06">
<meta name="description" content="declaration: package: com.diploma.inno.entity, class: JsonMapConverter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/JsonMapConverter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.diploma.inno.entity</a></div>
<h1 title="Class JsonMapConverter" class="title">Class JsonMapConverter</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.diploma.inno.entity.JsonMapConverter</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code>jakarta.persistence.AttributeConverter&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">JsonMapConverter</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements jakarta.persistence.AttributeConverter&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span></div>
<div class="block">JPA AttributeConverter for bidirectional conversion between Map&lt;String, Object&gt; &amp; JSON strings.

 <p>This converter provides seamless integration between Java Map objects and JSON string
 representations for database storage in CI/CD anomaly detection &amp; AI analysis systems.
 It enables flexible metadata storage while maintaining type safety and providing robust
 error handling for data integrity in persistent storage operations.</p>

 <h2 id="core-functionality-heading">Core Functionality</h2>
 <ul>
   <li><strong>Bidirectional Conversion:</strong> Map&lt;String, Object&gt; â†” JSON String conversion</li>
   <li><strong>Type Safety:</strong> Maintains type information during serialization/deserialization</li>
   <li><strong>Error Resilience:</strong> Graceful handling of malformed JSON &amp; serialization failures</li>
   <li><strong>Null Safety:</strong> Proper handling of null &amp; empty values</li>
   <li><strong>Performance Optimization:</strong> Efficient Jackson-based JSON processing</li>
   <li><strong>Logging Integration:</strong> Comprehensive error logging for debugging</li>
 </ul>

 <h2 id="jpa-integration-usage-heading">JPA Integration &amp; Usage</h2>
 <p>The converter integrates seamlessly with JPA entities for metadata storage:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">@Entity
@Table(name = "chat_messages")
public class ChatMessageEntity {

    @Column(name = "metadata")
    @Convert(converter = JsonMapConverter.class)
    private Map&lt;String, Object&gt; metadata;

    // Other entity fields...
}
</code></pre>
</div>


 <h2 id="conversion-examples-heading">Conversion Examples</h2>
 <p>Map to JSON string conversion (Database Storage):</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">Map&lt;String, Object&gt; metadata = new HashMap&lt;&gt;();
metadata.put("priority", "high");
metadata.put("tags", Arrays.asList("security", "vulnerability"));
metadata.put("analysis_score", 8.5);
metadata.put("processing_flags", Map.of("ai_analyzed", true, "requires_review", false));

// Converter automatically serializes to:
// {"priority":"high","tags":["security","vulnerability"],"analysis_score":8.5,"processing_flags":{"ai_analyzed":true,"requires_review":false}}
</code></pre>
</div>


 <p>JSON string to Map conversion (Entity Retrieval):</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "source_system": "jenkins",
  "pipeline_stage": "security_analysis",
  "priority": "high",
  "tags": ["security", "vulnerability", "compliance"],
  "processing_flags": {
    "ai_analyzed": true,
    "anomaly_detected": false,
    "requires_review": true
  },
  "analysis_results": {
    "risk_score": 7.5,
    "confidence": 0.92,
    "categories": ["security", "performance"]
  }
}
</code></pre>
</div>


 <h2 id="data-type-support-heading">Data Type Support</h2>
 <p>The converter supports comprehensive data types for flexible metadata storage:</p>
 <ul>
   <li><strong>Primitive Types:</strong> String, Integer, Double, Boolean</li>
   <li><strong>Collections:</strong> Lists, Arrays, Sets (serialized as JSON arrays)</li>
   <li><strong>Nested Objects:</strong> Maps, POJOs (serialized as JSON objects)</li>
   <li><strong>Mixed Types:</strong> Heterogeneous collections with multiple data types</li>
   <li><strong>Null Values:</strong> Proper null handling &amp; preservation</li>
 </ul>

 <h2 id="error-handling-resilience-heading">Error Handling &amp; Resilience</h2>
 <p>The converter provides robust error handling for data integrity:</p>
 <ul>
   <li><strong>Serialization Failures:</strong> Throws RuntimeException with detailed error context</li>
   <li><strong>Deserialization Failures:</strong> Returns empty Map with error logging</li>
   <li><strong>Null Input Handling:</strong> Graceful processing of null &amp; empty values</li>
   <li><strong>Malformed JSON:</strong> Safe fallback to empty Map for corrupted data</li>
 </ul>

 <h2 id="performance-characteristics-heading">Performance Characteristics</h2>
 <ul>
   <li><strong>Jackson Integration:</strong> High-performance JSON processing with ObjectMapper</li>
   <li><strong>Memory Efficiency:</strong> Optimized serialization for large metadata objects</li>
   <li><strong>Caching Strategy:</strong> Reuses ObjectMapper instance for performance</li>
   <li><strong>Lazy Processing:</strong> Conversion occurs only during database operations</li>
 </ul>

 <h2 id="use-cases-in-ci-cd-analysis-heading">Use Cases in CI/CD Analysis</h2>
 <p>The converter enables flexible metadata storage for various analysis scenarios:</p>
 <ul>
   <li><strong>Processing Flags:</strong> Track analysis status &amp; processing state</li>
   <li><strong>AI Analysis Results:</strong> Store ML model outputs &amp; confidence scores</li>
   <li><strong>Contextual Tags:</strong> Categorization &amp; classification metadata</li>
   <li><strong>System Information:</strong> Source system &amp; pipeline context</li>
   <li><strong>Custom Extensions:</strong> Application-specific metadata requirements</li>
 </ul>

 <h2 id="database-compatibility-heading">Database Compatibility</h2>
 <p>The converter works with various database systems &amp; column types:</p>
 <ul>
   <li><strong>PostgreSQL:</strong> TEXT, VARCHAR, JSONB columns</li>
   <li><strong>MySQL:</strong> TEXT, LONGTEXT, JSON columns</li>
   <li><strong>Oracle:</strong> CLOB, VARCHAR2 columns</li>
   <li><strong>SQL Server:</strong> NVARCHAR(MAX), TEXT columns</li>
 </ul>

 <h2 id="thread-safety-concurrency-heading">Thread Safety &amp; Concurrency</h2>
 <p>The converter is designed for safe concurrent usage:</p>
 <ul>
   <li><strong>Stateless Design:</strong> No mutable state between conversion operations</li>
   <li><strong>ObjectMapper Safety:</strong> Jackson ObjectMapper is thread-safe</li>
   <li><strong>Concurrent Access:</strong> Safe for use in multi-threaded environments</li>
   <li><strong>JPA Integration:</strong> Compatible with JPA's concurrent entity operations</li>
 </ul>

 <h2 id="integration-points-heading">Integration Points</h2>
 <p>This converter integrates with multiple system components:</p>
 <ul>
   <li><strong>ChatMessageEntity:</strong> Primary usage for metadata field conversion</li>
   <li><strong>JPA Framework:</strong> Automatic conversion during entity persistence</li>
   <li><strong>Jackson ObjectMapper:</strong> JSON serialization &amp; deserialization engine</li>
   <li><strong>Database Layer:</strong> Seamless integration with various database systems</li>
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>1.0</dd>
<dt>Author:</dt>
<dd>Khasan Abdurakhmanov</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><code>AttributeConverter</code></li>
<li><a href="ChatMessageEntity.html" title="class in com.diploma.inno.entity"><code>ChatMessageEntity</code></a></li>
<li><code>ObjectMapper</code></li>
<li><code>JsonProcessingException</code></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">JsonMapConverter</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new instance of the class with default initial values.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertToDatabaseColumn(java.util.Map)" class="member-name-link">convertToDatabaseColumn</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;attribute)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a Map&lt;String, Object&gt; to JSON string for database storage.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertToEntityAttribute(java.lang.String)" class="member-name-link">convertToEntityAttribute</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dbData)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts JSON string from database to Map&lt;String, Object&gt; for entity attribute.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>JsonMapConverter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">JsonMapConverter</span>()</div>
<div class="block">Creates a new instance of the class with default initial values.
 This constructor initializes the object to its default state.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="convertToDatabaseColumn(java.util.Map)">
<h3>convertToDatabaseColumn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">convertToDatabaseColumn</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;attribute)</span></div>
<div class="block">Converts a Map&lt;String, Object&gt; to JSON string for database storage.

 <p>This method serializes Java Map objects into JSON string format for persistent
 storage in database columns. It handles complex nested data structures, maintains
 type information, and provides robust error handling for serialization failures.</p>

 <h4 id="conversion-process--heading">Conversion Process:</h4>
 <ol>
   <li><strong>Null/Empty Check:</strong> Returns null for null or empty input maps</li>
   <li><strong>JSON Serialization:</strong> Uses Jackson ObjectMapper for conversion</li>
   <li><strong>Error Handling:</strong> Throws RuntimeException on serialization failure</li>
   <li><strong>Logging:</strong> Comprehensive error logging for debugging</li>
 </ol>

 <h4 id="input-examples--heading">Input Examples:</h4>
 <p>Simple metadata map:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">Map&lt;String, Object&gt; metadata = Map.of(
    "priority", "high",
    "source_system", "jenkins",
    "analysis_score", 8.5,
    "ai_analyzed", true
);
</code></pre>
</div>


 <p>Complex nested metadata:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">Map&lt;String, Object&gt; metadata = Map.of(
    "tags", Arrays.asList("security", "vulnerability"),
    "processing_flags", Map.of(
        "ai_analyzed", true,
        "requires_review", false
    ),
    "analysis_results", Map.of(
        "risk_score", 7.5,
        "confidence", 0.92
    )
);
</code></pre>
</div>


 <h4 id="output-json-examples--heading">Output JSON Examples:</h4>
 <p>Simple metadata JSON output:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "priority": "high",
  "source_system": "jenkins",
  "analysis_score": 8.5,
  "ai_analyzed": true
}
</code></pre>
</div>


 <p>Complex nested JSON output:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "tags": ["security", "vulnerability"],
  "processing_flags": {
    "ai_analyzed": true,
    "requires_review": false
  },
  "analysis_results": {
    "risk_score": 7.5,
    "confidence": 0.92
  }
}
</code></pre>
</div>


 <h4 id="error-handling--heading">Error Handling:</h4>
 <ul>
   <li><strong>Null Input:</strong> Returns null for null input maps</li>
   <li><strong>Empty Input:</strong> Returns null for empty input maps</li>
   <li><strong>Serialization Failure:</strong> Throws RuntimeException with detailed context</li>
   <li><strong>Error Logging:</strong> Logs complete error details for debugging</li>
 </ul>

 <h4 id="performance-considerations--heading">Performance Considerations:</h4>
 <ul>
   <li><strong>Jackson Efficiency:</strong> Optimized JSON serialization performance</li>
   <li><strong>Memory Usage:</strong> Efficient handling of large metadata objects</li>
   <li><strong>Type Preservation:</strong> Maintains type information during conversion</li>
   <li><strong>Thread Safety:</strong> Safe for concurrent conversion operations</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>convertToDatabaseColumn</code>&nbsp;in interface&nbsp;<code>jakarta.persistence.AttributeConverter&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>attribute</code> - the Map&lt;String, Object&gt; to convert to JSON string,
                  may be null or empty</dd>
<dt>Returns:</dt>
<dd>JSON string representation of the map, or null if input is null/empty</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if JSON serialization fails due to unsupported types
                          or other Jackson processing errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ObjectMapper.writeValueAsString(Object)</code></li>
<li><code>JsonProcessingException</code></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertToEntityAttribute(java.lang.String)">
<h3>convertToEntityAttribute</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">convertToEntityAttribute</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dbData)</span></div>
<div class="block">Converts JSON string from database to Map&lt;String, Object&gt; for entity attribute.

 <p>This method deserializes JSON string data retrieved from database columns into
 Java Map objects for use in entity attributes. It provides robust error handling,
 graceful fallback for malformed data, and maintains type safety during conversion.</p>

 <h4 id="conversion-process--heading1">Conversion Process:</h4>
 <ol>
   <li><strong>Null/Empty Check:</strong> Returns empty Map for null or empty input</li>
   <li><strong>JSON Deserialization:</strong> Uses Jackson ObjectMapper for parsing</li>
   <li><strong>Error Recovery:</strong> Returns empty Map on deserialization failure</li>
   <li><strong>Logging:</strong> Comprehensive error logging for debugging</li>
 </ol>

 <h4 id="input-json-examples--heading">Input JSON Examples:</h4>
 <p>Simple metadata JSON input:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "priority": "high",
  "source_system": "jenkins",
  "analysis_score": 8.5,
  "ai_analyzed": true
}
</code></pre>
</div>


 <p>Complex nested JSON input:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "tags": ["security", "vulnerability", "compliance"],
  "processing_flags": {
    "ai_analyzed": true,
    "anomaly_detected": false,
    "requires_review": true
  },
  "analysis_results": {
    "risk_score": 7.5,
    "confidence": 0.92,
    "categories": ["security", "performance"]
  }
}
</code></pre>
</div>


 <h4 id="output-map-examples--heading">Output Map Examples:</h4>
 <p>Resulting Map structure for simple metadata:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">Map&lt;String, Object&gt; result = Map.of(
    "priority", "high",
    "source_system", "jenkins",
    "analysis_score", 8.5,
    "ai_analyzed", true
);
</code></pre>
</div>


 <p>Resulting Map structure for complex nested data:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">Map&lt;String, Object&gt; result = Map.of(
    "tags", List.of("security", "vulnerability", "compliance"),
    "processing_flags", Map.of(
        "ai_analyzed", true,
        "anomaly_detected", false,
        "requires_review", true
    ),
    "analysis_results", Map.of(
        "risk_score", 7.5,
        "confidence", 0.92,
        "categories", List.of("security", "performance")
    )
);
</code></pre>
</div>


 <h4 id="error-handling-resilience--heading">Error Handling &amp; Resilience:</h4>
 <ul>
   <li><strong>Null Input:</strong> Returns empty Map for null database values</li>
   <li><strong>Empty Input:</strong> Returns empty Map for empty string values</li>
   <li><strong>Malformed JSON:</strong> Returns empty Map with error logging</li>
   <li><strong>Graceful Degradation:</strong> Never throws exceptions, always returns valid Map</li>
 </ul>

 <h4 id="type-handling--heading">Type Handling:</h4>
 <ul>
   <li><strong>Primitive Types:</strong> String, Integer, Double, Boolean preserved</li>
   <li><strong>Collections:</strong> JSON arrays converted to Java Lists</li>
   <li><strong>Nested Objects:</strong> JSON objects converted to nested Maps</li>
   <li><strong>Type Inference:</strong> Automatic type detection from JSON content</li>
 </ul>

 <h4 id="performance-characteristics--heading">Performance Characteristics:</h4>
 <ul>
   <li><strong>Jackson Performance:</strong> Optimized JSON parsing with ObjectMapper</li>
   <li><strong>Memory Efficiency:</strong> Efficient handling of large JSON documents</li>
   <li><strong>Error Recovery:</strong> Fast fallback to empty Map on parsing errors</li>
   <li><strong>Thread Safety:</strong> Safe for concurrent deserialization operations</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>convertToEntityAttribute</code>&nbsp;in interface&nbsp;<code>jakarta.persistence.AttributeConverter&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>dbData</code> - the JSON string retrieved from database column,
               may be null, empty, or malformed</dd>
<dt>Returns:</dt>
<dd>Map&lt;String, Object&gt; representation of the JSON data,
         or empty Map if input is null/empty/malformed</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ObjectMapper.readValue(String, Class)</code></li>
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#emptyMap()" title="class or interface in java.util" class="external-link"><code>Collections.emptyMap()</code></a></li>
<li><code>JsonProcessingException</code></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
