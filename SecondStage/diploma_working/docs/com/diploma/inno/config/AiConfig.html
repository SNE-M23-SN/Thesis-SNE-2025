<!DOCTYPE HTML>
<html lang="ru">
<head>
<!-- Generated by javadoc (21) on Fri Jun 06 16:44:09 SAMT 2025 -->
<title>AiConfig</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-06-06">
<meta name="description" content="declaration: package: com.diploma.inno.config, class: AiConfig">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AiConfig.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.diploma.inno.config</a></div>
<h1 title="Class AiConfig" class="title">Class AiConfig</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.diploma.inno.config.AiConfig</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Configuration
</span><span class="modifiers">public class </span><span class="element-name type-name-label">AiConfig</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Spring AI configuration for Jenkins CI/CD pipeline anomaly detection system.

 <p>This configuration class orchestrates the setup of AI-powered components for DevSecOps
 monitoring, including chat memory management, conversation advisors, and AI client configuration.
 It serves as the central hub for integrating Google Gemini AI with Jenkins build log analysis.</p>

 <h2 id="core-responsibilities-heading">Core Responsibilities</h2>
 <ul>
   <li><strong>AI Client Configuration:</strong> Sets up ChatClient with Google Gemini 2.5 Flash model</li>
   <li><strong>Memory Management:</strong> Configures persistent conversation storage with PostgreSQL</li>
   <li><strong>Advisor Integration:</strong> Wires custom memory advisors for metadata preservation</li>
   <li><strong>System Prompt Loading:</strong> Manages AI system prompts for DevSecOps analysis</li>
   <li><strong>Component Orchestration:</strong> Coordinates all AI-related Spring beans</li>
 </ul>

 <h2 id="architecture-integration-heading">Architecture Integration</h2>
 <p>This configuration enables the complete AI analysis pipeline:</p>
 <pre><code>
 Jenkins Logs → LogMessageListener → ChatMemory → ChatClient → AI Analysis
      ↓               ↓                  ↓           ↓            ↓
 Raw Messages → Message Storage → Context Retrieval → AI Processing → Anomaly Detection
      ↑               ↑                  ↑           ↑            ↑
 RabbitMQ ← Database Storage ← Memory Advisor ← System Prompt ← Google Gemini
 </code></pre>

 <h2 id="ai-model-configuration-heading">AI Model Configuration</h2>
 <p>The configuration integrates with Google's Generative AI platform:</p>
 <ul>
   <li><strong>Model:</strong> Google Gemini 2.5 Flash Preview</li>
   <li><strong>API Integration:</strong> OpenAI-compatible interface via Spring AI</li>
   <li><strong>Response Format:</strong> JSON_OBJECT for structured anomaly reports</li>
   <li><strong>Temperature:</strong> 0 (deterministic responses for consistent analysis)</li>
   <li><strong>Context Window:</strong> Optimized for Jenkins log analysis</li>
 </ul>

 <h2 id="memory-management-strategy-heading">Memory Management Strategy</h2>
 <p>Implements sophisticated conversation memory with:</p>
 <ul>
   <li><strong>Persistent Storage:</strong> PostgreSQL-backed chat history</li>
   <li><strong>Sliding Window:</strong> Configurable message retention (100 messages default)</li>
   <li><strong>Metadata Preservation:</strong> Build numbers &amp; Jenkins context tracking</li>
   <li><strong>Automatic Cleanup:</strong> Scheduled pruning for optimal performance</li>
 </ul>

 <h2 id="system-prompt-integration-heading">System Prompt Integration</h2>
 <p>Loads specialized DevSecOps analysis prompts:</p>
 <ul>
   <li><strong>Template Location:</strong> <code>classpath:templates/system.st</code></li>
   <li><strong>Content Focus:</strong> Security vulnerability detection &amp; anomaly analysis</li>
   <li><strong>Context Awareness:</strong> Jenkins-specific log format understanding</li>
   <li><strong>Output Structure:</strong> Standardized JSON response format</li>
 </ul>

 <h2 id="bean-dependencies-heading">Bean Dependencies</h2>
 <p>This configuration requires the following external dependencies:</p>
 <ul>
   <li><strong>ChatMessageRepository:</strong> JPA repository for message persistence</li>
   <li><strong>ChatClient.Builder:</strong> Spring AI's chat client builder (auto-configured)</li>
   <li><strong>Database Connection:</strong> PostgreSQL connection for chat memory</li>
   <li><strong>AI Model Access:</strong> Google Generative AI API credentials</li>
 </ul>

 <h2 id="configuration-properties-heading">Configuration Properties</h2>
 <p>Key configuration aspects managed by this class:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-properties"># System prompt template location
spring.ai.system.prompt=classpath:templates/system.st

# Memory management settings
ai.memory.max-messages-per-conversation=100
ai.memory.cleanup.enabled=true
ai.memory.cleanup.schedule=3600000

# AI model configuration (external)
spring.ai.openai.api-key=${GOOGLE_AI_API_KEY}
spring.ai.openai.base-url=https://generativelanguage.googleapis.com/v1beta/
</code></pre>
</div>


 <h2 id="performance-considerations-heading">Performance Considerations</h2>
 <ul>
   <li><strong>Memory Efficiency:</strong> Bounded conversation history prevents memory leaks</li>
   <li><strong>Database Optimization:</strong> Efficient queries with proper indexing</li>
   <li><strong>AI Rate Limiting:</strong> Managed through Spring AI's built-in mechanisms</li>
   <li><strong>Concurrent Access:</strong> Thread-safe components for high-volume processing</li>
 </ul>

 <h2 id="security-compliance-heading">Security &amp; Compliance</h2>
 <ul>
   <li><strong>API Key Management:</strong> Secure credential handling via environment variables</li>
   <li><strong>Data Privacy:</strong> Local conversation storage with controlled retention</li>
   <li><strong>Access Control:</strong> Spring Security integration for API access</li>
   <li><strong>Audit Trail:</strong> Complete logging of AI interactions</li>
 </ul>

 <h2 id="usage-example-heading">Usage Example</h2>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// Automatic Spring configuration - no manual setup required
@Autowired
private ChatClient chatClient;

@Autowired
private ChatMemory chatMemory;

// Example AI analysis call
String analysis = chatClient.prompt()
    .advisors(advisor -&gt; advisor
        .param("chat_memory_conversation_id", "jenkins-security-scan")
        .param("build_number", 123))
    .user("Analyze this Jenkins build for anomalies: " + buildLogs)
    .call()
    .content();
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>1.0</dd>
<dt>Author:</dt>
<dd>Khasan Abdurakhmanov</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ChatClient</code></li>
<li><code>ChatMemory</code></li>
<li><a href="../component/SimpleDbChatMemory.html" title="class in com.diploma.inno.component"><code>SimpleDbChatMemory</code></a></li>
<li><a href="../component/CustomMetadataChatMemoryAdvisor.html" title="class in com.diploma.inno.component"><code>CustomMetadataChatMemoryAdvisor</code></a></li>
<li><a href="../repository/ChatMessageRepository.html" title="interface in com.diploma.inno.repository"><code>ChatMessageRepository</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">AiConfig</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new instance of the class with default initial values.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.ai.chat.client.ChatClient</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#chatClient(org.springframework.ai.chat.client.ChatClient.Builder,org.springframework.ai.chat.memory.ChatMemory)" class="member-name-link">chatClient</a><wbr>(org.springframework.ai.chat.client.ChatClient.Builder&nbsp;builder,
 org.springframework.ai.chat.memory.ChatMemory&nbsp;chatMemory)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configures the primary ChatClient for AI-powered Jenkins build analysis.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.ai.chat.memory.ChatMemory</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#chatMemory(com.diploma.inno.repository.ChatMessageRepository)" class="member-name-link">chatMemory</a><wbr>(<a href="../repository/ChatMessageRepository.html" title="interface in com.diploma.inno.repository">ChatMessageRepository</a>&nbsp;repository)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configures the chat memory implementation for persistent conversation storage.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>AiConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AiConfig</span>()</div>
<div class="block">Creates a new instance of the class with default initial values.
 This constructor initializes the object to its default state.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="chatMemory(com.diploma.inno.repository.ChatMessageRepository)">
<h3>chatMemory</h3>
<div class="member-signature"><span class="annotations">@Bean
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.ai.chat.memory.ChatMemory</span>&nbsp;<span class="element-name">chatMemory</span><wbr><span class="parameters">(<a href="../repository/ChatMessageRepository.html" title="interface in com.diploma.inno.repository">ChatMessageRepository</a>&nbsp;repository)</span></div>
<div class="block">Configures the chat memory implementation for persistent conversation storage.

 <p>This bean creates a database-backed chat memory that provides persistent storage
 for Jenkins build logs and AI analysis results. It implements sophisticated memory
 management with automatic cleanup and sliding window approach for optimal performance.</p>

 <h4 id="memory-configuration--heading">Memory Configuration:</h4>
 <ul>
   <li><strong>Storage Backend:</strong> PostgreSQL database via JPA repository</li>
   <li><strong>Message Limit:</strong> 100 messages per conversation (configurable)</li>
   <li><strong>Cleanup Strategy:</strong> Automatic pruning of old messages</li>
   <li><strong>Metadata Support:</strong> Rich metadata preservation for Jenkins context</li>
 </ul>

 <h4 id="performance-characteristics--heading">Performance Characteristics:</h4>
 <ul>
   <li><strong>Throughput:</strong> Optimized for high-volume Jenkins log ingestion</li>
   <li><strong>Storage Efficiency:</strong> JSONB compression for large log messages</li>
   <li><strong>Query Performance:</strong> Indexed queries for fast conversation retrieval</li>
   <li><strong>Memory Management:</strong> Bounded memory usage with automatic cleanup</li>
 </ul>

 <h4 id="integration-points--heading">Integration Points:</h4>
 <p>The chat memory integrates with multiple system components:</p>
 <ul>
   <li><strong>LogMessageListener:</strong> Stores incoming Jenkins logs</li>
   <li><strong>CustomMetadataChatMemoryAdvisor:</strong> Retrieves conversation context</li>
   <li><strong>ChatClient:</strong> Provides historical context for AI analysis</li>
 </ul>

 <h4 id="configuration-rationale--heading">Configuration Rationale:</h4>
 <p>The 100-message limit balances several factors:</p>
 <ul>
   <li><strong>Context Richness:</strong> Sufficient history for trend analysis</li>
   <li><strong>Performance:</strong> Manageable query sizes for fast retrieval</li>
   <li><strong>Token Efficiency:</strong> Reasonable AI context window usage</li>
   <li><strong>Storage Cost:</strong> Controlled database growth</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repository</code> - the JPA repository for chat message persistence.
                   Injected automatically by Spring's dependency injection.
                   Must support custom queries for conversation management.</dd>
<dt>Returns:</dt>
<dd>a configured <a href="../component/SimpleDbChatMemory.html" title="class in com.diploma.inno.component"><code>SimpleDbChatMemory</code></a> instance ready for production use.
         The instance includes automatic cleanup scheduling and transaction management.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../component/SimpleDbChatMemory.html" title="class in com.diploma.inno.component"><code>SimpleDbChatMemory</code></a></li>
<li><a href="../repository/ChatMessageRepository.html" title="interface in com.diploma.inno.repository"><code>ChatMessageRepository</code></a></li>
<li><code>ChatMemory</code></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="chatClient(org.springframework.ai.chat.client.ChatClient.Builder,org.springframework.ai.chat.memory.ChatMemory)">
<h3>chatClient</h3>
<div class="member-signature"><span class="annotations">@Bean
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.ai.chat.client.ChatClient</span>&nbsp;<span class="element-name">chatClient</span><wbr><span class="parameters">(org.springframework.ai.chat.client.ChatClient.Builder&nbsp;builder,
 org.springframework.ai.chat.memory.ChatMemory&nbsp;chatMemory)</span></div>
<div class="block">Configures the primary ChatClient for AI-powered Jenkins build analysis.

 <p>This bean creates the central AI client that orchestrates all anomaly detection
 and security analysis for Jenkins CI/CD pipelines. It integrates Google Gemini AI
 with custom memory management and specialized DevSecOps prompting.</p>

 <h4 id="client-configuration--heading">Client Configuration:</h4>
 <p>The ChatClient is configured with enterprise-grade capabilities:</p>
 <ul>
   <li><strong>AI Model:</strong> Google Gemini 2.5 Flash Preview via OpenAI-compatible API</li>
   <li><strong>System Prompt:</strong> Specialized DevSecOps analysis instructions</li>
   <li><strong>Memory Advisor:</strong> Custom metadata-aware conversation management</li>
   <li><strong>Response Format:</strong> Structured JSON for consistent analysis output</li>
 </ul>

 <h4 id="system-prompt-integration--heading">System Prompt Integration:</h4>
 <p>The default system prompt configures the AI for:</p>
 <ul>
   <li><strong>Role Definition:</strong> DevSecOps security analyst specialization</li>
   <li><strong>Analysis Focus:</strong> Jenkins logs, security scans, dependencies</li>
   <li><strong>Output Structure:</strong> JSON format with risk scores &amp; recommendations</li>
   <li><strong>Context Awareness:</strong> CI/CD pipeline stage understanding</li>
 </ul>

 <h4 id="memory-advisor-features--heading">Memory Advisor Features:</h4>
 <p>The <a href="../component/CustomMetadataChatMemoryAdvisor.html" title="class in com.diploma.inno.component"><code>CustomMetadataChatMemoryAdvisor</code></a> provides:</p>
 <ul>
   <li><strong>Conversation Context:</strong> Historical build analysis for trend detection</li>
   <li><strong>Metadata Preservation:</strong> Jenkins build numbers &amp; job correlation</li>
   <li><strong>Memory Windowing:</strong> Efficient context management for large conversations</li>
   <li><strong>Build Tracking:</strong> Correlation of logs across build sequences</li>
 </ul>

 <h4 id="ai-analysis-capabilities--heading">AI Analysis Capabilities:</h4>
 <p>The configured client enables comprehensive analysis:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-json">{
  "analysis_type": "jenkins_build_anomaly_detection",
  "risk_score": 75,
  "anomalies_detected": [
    {
      "type": "secret_exposure",
      "severity": "HIGH",
      "description": "API key detected in build logs",
      "recommendation": "Rotate exposed credentials immediately"
    },
    {
      "type": "dependency_vulnerability",
      "severity": "MEDIUM",
      "description": "Outdated library with known CVE",
      "recommendation": "Update to latest secure version"
    }
  ],
  "build_health": "DEGRADED",
  "trend_analysis": "Security posture declining over last 5 builds"
}
</code></pre>
</div>


 <h4 id="usage-patterns--heading">Usage Patterns:</h4>
 <p>The ChatClient supports various analysis scenarios:</p>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// Real-time build analysis
String analysis = chatClient.prompt()
    .advisors(advisor -&gt; advisor
        .param("chat_memory_conversation_id", "jenkins-security-pipeline")
        .param("build_number", 123))
    .user(buildLogData)
    .call()
    .content();

// Streaming analysis for large logs
Flux&lt;String&gt; streamingAnalysis = chatClient.prompt()
    .user(largeBuildLogs)
    .stream()
    .content();
</code></pre>
</div>


 <h4 id="performance-optimization--heading">Performance Optimization:</h4>
 <ul>
   <li><strong>Connection Pooling:</strong> Efficient HTTP connection management</li>
   <li><strong>Request Batching:</strong> Optimized API call patterns</li>
   <li><strong>Response Caching:</strong> Intelligent caching for repeated analyses</li>
   <li><strong>Error Recovery:</strong> Automatic retry with exponential backoff</li>
 </ul>

 <h4 id="security-features--heading">Security Features:</h4>
 <ul>
   <li><strong>API Key Security:</strong> Secure credential management</li>
   <li><strong>Request Validation:</strong> Input sanitization &amp; validation</li>
   <li><strong>Response Filtering:</strong> Output sanitization for sensitive data</li>
   <li><strong>Audit Logging:</strong> Complete interaction audit trail</li>
 </ul>

 <h4 id="integration-architecture--heading">Integration Architecture:</h4>
 <p>The ChatClient serves as the central hub for AI operations:</p>
 <pre><code>
 LogMessageListener → ChatClient → Google Gemini AI
        ↓                ↓              ↓
 Jenkins Logs → Analysis Request → AI Response
        ↑                ↑              ↑
 Memory Context ← CustomAdvisor ← Structured JSON
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the ChatClient builder provided by Spring AI auto-configuration.
                Pre-configured with AI model settings, API credentials, and base URL.</dd>
<dd><code>chatMemory</code> - the chat memory implementation for conversation persistence.
                   Provides historical context and metadata for enhanced analysis.</dd>
<dt>Returns:</dt>
<dd>a fully configured <code>ChatClient</code> ready for production Jenkins analysis.
         The client includes system prompts, memory management, and error handling.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ChatClient</code></li>
<li><code>ChatClient.Builder</code></li>
<li><a href="../component/CustomMetadataChatMemoryAdvisor.html" title="class in com.diploma.inno.component"><code>CustomMetadataChatMemoryAdvisor</code></a></li>
<li><code>ChatMemory</code></li>
<li><code>Resource</code></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
